<div class="grid">
    <div class="col-4">
        <h3>Customer</h3>
    </div>
    <div class="col-8 text-right">
        <div class="grid">
            <div class="col-10 text-right">
                <form [formGroup]="form">
                    <span class="p-input-icon-left">
                        <i class="pi pi-search"></i>
                         <input pInputText type="text" placeholder="Search..." formControlName="query"
                                (keyup)="submitSearch()"/>
                    </span>
                </form>
            </div>

            <div class="col">
                <button icon="pi pi-plus" label="Add" pButton routerLink='/customer/add'></button>
            </div>
        </div>
    </div>
</div>
<p-table
        styleClass="p-datatable-striped"
        responsiveLayout="scroll"
        [lazy]="true"
        [totalRecords]="totalRecord"
        [value]="records"
        [rowHover]="true"
        [paginator]="true"
        [rows]="getMaxPerPage()"
        [showCurrentPageReport]="true"
        [rowsPerPageOptions]="pageOptions"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} records"
        (onPage)="paginate($event)"
>
    <ng-template pTemplate="header">
        <tr>
            <th pSortableColumn="customerName">Customer Name
                <p-sortIcon field="customerName"></p-sortIcon>
            </th>
            <th>Gender</th>
            <th>DOB</th>
            <th>Phone</th>
            <th>Address</th>
            <th>Status</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-record>
        <tr>
            <td><a routerLink='/customer/detail/{{record.id}}'>{{record['customerName']}}</a></td>
            <td>{{record['gender']}}</td>
            <td>{{record['dob']}}</td>
            <td>{{record['phone']}}</td>
            <td>{{record['address']}}</td>
            <td>
                <p-badge [value]="record['status']" [severity]="record['statusColor']"></p-badge>
            </td>
        </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
        <tr>
            <td colspan="6">No customer found.</td>
        </tr>
    </ng-template>
</p-table>
